{% macro treeitems(items, tree, user) %}
    
        {% for item in items %}
        {% set entry = tree.entries[item] %}
            <li class="nav-item">        
                                {% if is_granted('create', user) %}
                    <a href="#" class="float-end"><i class="fa-solid fa-magnifying-glass"></i></a>
                {% endif %}
                {% if not entry.isLeaf %}
                    
                    {% if entry.children|length > 0%}
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#{{ entry.sanitizedName }}" aria-expanded="false">
                            {{ entry.displayName }}
                        </button>
                    {% else %}
                        <a class="btn link-dark rounded ms-3" href="#">{{ entry.displayName }}</a>
                    {% endif %}

                    {% if entry.children|length > 0%}
                    <ul id="{{ entry.sanitizedName }}" class="btn-toggle-nav list-unstyled fw-normal pb-1 ms-3 small collapse">
                        {{ _self.treeitems(entry.children, tree, user) }}
                    </ul>
                    {% endif %}
                    
                {% else %}
                
                    <a class="btn link-dark rounded ms-3" href="#">{{ entry.displayName }}</a>
                    
                {% endif %}
            </li>
        {% endfor %}
    
{% endmacro %}